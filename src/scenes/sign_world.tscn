[gd_scene load_steps=23 format=3 uid="uid://darymjq32xhe2"]

[ext_resource type="PackedScene" uid="uid://0iccmywhl76q" path="res://prefabs/sign.tscn" id="1_8kfhy"]
[ext_resource type="Script" path="res://scripts/sign_world.gd" id="1_tahyx"]
[ext_resource type="SpriteFrames" path="res://anim/background_sprite_frames.tres" id="2_1je1o"]
[ext_resource type="PackedScene" uid="uid://ck3whmkemwclf" path="res://prefabs/ground.tscn" id="2_nw6t4"]
[ext_resource type="Texture2D" uid="uid://cn4t7fu4vfjrk" path="res://art/sign_static_right_side.png" id="3_u4y7a"]
[ext_resource type="AudioStream" uid="uid://de7ekyg8eaha5" path="res://audio/sfx/sign_snap.wav" id="4_6at6o"]
[ext_resource type="PackedScene" uid="uid://bd11ec50fhc2a" path="res://prefabs/character.tscn" id="5_46d2p"]
[ext_resource type="LabelSettings" uid="uid://cc4luhxpmp6qc" path="res://themes/my_label_settings.tres" id="6_e6rxa"]
[ext_resource type="PackedScene" uid="uid://cuj3lhsp8iuq1" path="res://prefabs/survival_girl.tscn" id="6_kom1c"]
[ext_resource type="Script" path="res://scripts/sign_world_canvas.gd" id="6_u7uiv"]
[ext_resource type="PackedScene" uid="uid://dh6o5h3dcv6d5" path="res://prefabs/cutscene.tscn" id="8_2um15"]
[ext_resource type="Script" path="res://scripts/starving_timer.gd" id="8_a1rqe"]
[ext_resource type="LabelSettings" uid="uid://21ceqv5ycliv" path="res://themes/big_label_settings.tres" id="9_qulp1"]
[ext_resource type="AudioStream" uid="uid://d2khevmalk8gy" path="res://audio/sfx/watch_out.wav" id="11_hixvp"]
[ext_resource type="AudioStream" uid="uid://bkypawo5lcbmf" path="res://audio/sfx/wood-break-1.wav" id="14_xh5xq"]
[ext_resource type="AudioStream" uid="uid://dv03hfp2s85tr" path="res://audio/sfx/crushed_short.wav" id="15_3f8ph"]
[ext_resource type="AudioStream" uid="uid://celaprfbb3pha" path="res://audio/sfx/wood-break-2.wav" id="15_iwolc"]
[ext_resource type="AudioStream" uid="uid://idijfgbqwdb6" path="res://audio/sfx/crushed_full.wav" id="16_bnx8v"]
[ext_resource type="AudioStream" uid="uid://c5iyak8ouuw17" path="res://audio/sfx/wood-break-3.wav" id="16_jmap5"]
[ext_resource type="AudioStream" uid="uid://cfo4y4fste1ag" path="res://audio/sfx/wood-break-4.wav" id="17_utuim"]
[ext_resource type="AudioStream" uid="uid://bs8kvor4jylph" path="res://audio/sfx/wood-break-5.wav" id="18_ial6y"]
[ext_resource type="AudioStream" uid="uid://c4rwgmjc45w62" path="res://audio/sfx/wood-break-6.wav" id="19_a1pmy"]

[node name="sign_world" type="Node2D"]
script = ExtResource("1_tahyx")

[node name="background" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(512, 256)
sprite_frames = ExtResource("2_1je1o")

[node name="objects" type="Node2D" parent="."]
position = Vector2(584, 328)

[node name="sign" type="Node2D" parent="objects"]

[node name="sign_position_marker" type="Marker2D" parent="objects/sign"]
texture_filter = 1
position = Vector2(-32, -96)

[node name="sign_static_part" type="Sprite2D" parent="objects/sign"]
visible = false
texture_filter = 1
position = Vector2(-32, -96)
texture = ExtResource("3_u4y7a")

[node name="sign_moving_part" parent="objects/sign" instance=ExtResource("1_8kfhy")]
position = Vector2(-32, -96)
max_num_clicks = 10

[node name="sfx_sign_hit" type="Node" parent="objects/sign/sign_moving_part"]

[node name="sign_hit" type="AudioStreamPlayer" parent="objects/sign/sign_moving_part/sfx_sign_hit"]
stream = ExtResource("14_xh5xq")
volume_db = -20.0

[node name="sign_hit2" type="AudioStreamPlayer" parent="objects/sign/sign_moving_part/sfx_sign_hit"]
stream = ExtResource("15_iwolc")
volume_db = -20.0

[node name="sign_hit3" type="AudioStreamPlayer" parent="objects/sign/sign_moving_part/sfx_sign_hit"]
stream = ExtResource("16_jmap5")
volume_db = -20.0

[node name="sign_hit4" type="AudioStreamPlayer" parent="objects/sign/sign_moving_part/sfx_sign_hit"]
stream = ExtResource("17_utuim")
volume_db = -20.0

[node name="sign_hit5" type="AudioStreamPlayer" parent="objects/sign/sign_moving_part/sfx_sign_hit"]
stream = ExtResource("18_ial6y")
volume_db = -20.0

[node name="sign_hit6" type="AudioStreamPlayer" parent="objects/sign/sign_moving_part/sfx_sign_hit"]
stream = ExtResource("19_a1pmy")
volume_db = -20.0

[node name="sign_snap" type="AudioStreamPlayer" parent="objects/sign/sign_moving_part"]
stream = ExtResource("4_6at6o")

[node name="watch_out" type="AudioStreamPlayer2D" parent="objects/sign/sign_moving_part"]
stream = ExtResource("11_hixvp")
volume_db = 20.0

[node name="character" parent="objects" instance=ExtResource("5_46d2p")]
position = Vector2(-72, 244)
debug_set_to_second_last_generation = true

[node name="sfx_dying" type="AudioStreamPlayer2D" parent="objects/character"]
position = Vector2(-512, -572)
stream = ExtResource("15_3f8ph")

[node name="sfx_dying_special" type="AudioStreamPlayer2D" parent="objects/character"]
position = Vector2(-512, -572)
stream = ExtResource("16_bnx8v")

[node name="survival_girl" parent="objects" instance=ExtResource("6_kom1c")]
position = Vector2(-392, 240)

[node name="ground" parent="objects" instance=ExtResource("2_nw6t4")]
position = Vector2(-74, 298)

[node name="survival_girl" parent="." instance=ExtResource("6_kom1c")]
position = Vector2(75, 495)

[node name="starving_timer" type="Timer" parent="."]
script = ExtResource("8_a1rqe")
starve_time = 2.0

[node name="sign_world_canvas" type="CanvasLayer" parent="."]
script = ExtResource("6_u7uiv")

[node name="label_watch_out" type="Label" parent="sign_world_canvas"]
offset_left = 328.0
offset_top = 310.0
offset_right = 614.0
offset_bottom = 355.0
text = "Wat-ta-cch ouu-uut!!!!"
label_settings = ExtResource("6_e6rxa")

[node name="label_starved" type="Label" parent="sign_world_canvas"]
offset_left = 436.0
offset_top = 279.0
offset_right = 688.0
offset_bottom = 340.0
text = "Starved!"
label_settings = ExtResource("9_qulp1")

[node name="container_starve_countdown" type="HBoxContainer" parent="sign_world_canvas"]
offset_left = 26.0
offset_top = 35.0
offset_right = 338.0
offset_bottom = 80.0

[node name="label_text" type="Label" parent="sign_world_canvas/container_starve_countdown"]
layout_mode = 2
text = "Time until you stave: "
label_settings = ExtResource("6_e6rxa")

[node name="label_starve_time" type="Label" parent="sign_world_canvas/container_starve_countdown"]
layout_mode = 2
label_settings = ExtResource("6_e6rxa")

[node name="cutscene" parent="." instance=ExtResource("8_2um15")]
visible = false

[connection signal="dead" from="objects/character" to="." method="_on_character_dead"]
[connection signal="dying" from="objects/character" to="." method="_on_character_dying"]
[connection signal="last_generation" from="objects/character" to="." method="_on_character_last_generation"]
[connection signal="rescuing_anim_done" from="objects/survival_girl" to="." method="_on_survival_girl_rescuing_anim_done"]
[connection signal="she_rescues_you" from="objects/survival_girl" to="." method="_on_survival_girl_she_rescues_you"]
[connection signal="starved" from="starving_timer" to="." method="_on_starving_timer_starved"]
[connection signal="survival_girl_appears" from="starving_timer" to="." method="_on_starving_timer_survival_girl_appears"]
[connection signal="timeout" from="starving_timer" to="starving_timer" method="_on_timeout"]
[connection signal="cutscene_finished" from="cutscene" to="." method="_on_cutscene_cutscene_finished"]
[connection signal="cutscene_full_dark" from="cutscene" to="." method="_on_cutscene_cutscene_full_dark"]
